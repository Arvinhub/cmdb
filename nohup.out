 * Running on http://127.0.0.1:5000/
 * Restarting with reloader
127.0.0.1 - - [04/May/2016 09:32:53] "GET /api/v0.1/citypes/test HTTP/1.1" 404 -
127.0.0.1 - - [04/May/2016 09:32:53] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [04/May/2016 09:33:05] "GET /api/v0.1/citypes/test HTTP/1.1" 404 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00168991088867
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0010130405426
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00322699546814
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.198438882828
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 10:08:34] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0014021396637
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000633001327515
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00225591659546
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0042040348053
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 10:08:49] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00191187858582
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00113415718079
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00333905220032
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.313664913177
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 13:10:32] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
 * Detected change in '/Users/pycook/PycharmProjects/cmdb-api/lib/const.py', reloading
Engine(mysql+pymysql://root:12qwaszx@127.0.0.1:3306/cmdb?charset=utf8)
 * Restarting with reloader
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'sn': u'test', 'private_ip': u'\u6211\u4e48<script>alert(12)</script>'}
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 15:46:45] "POST /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [04/May/2016 15:47:34] "GET /api/v0.1/ci/11238 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0506961345673
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0010027885437
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0520710945129
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.18240404129
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 15:57:24] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.000910043716431
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000577926635742
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00169992446899
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0425431728363
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 16:45:26] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00154399871826
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000653028488159
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00249695777893
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0680940151215
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:17:25] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00356793403625
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00132894515991
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00535202026367
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.010763168335
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:23:38] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0264749526978
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0010461807251
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0278940200806
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0366520881653
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:24:26] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0019371509552
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00100803375244
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00320816040039
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00779008865356
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:28:12] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00407910346985
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00105810165405
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00563716888428
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0106608867645
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:29:17] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00188398361206
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000676155090332
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00281691551208
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00757098197937
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:29:54] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0039210319519
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00129199028015
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00571703910828
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0124680995941
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:30:41] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00422286987305
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00146913528442
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00628805160522
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0118639469147
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:30:56] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00198101997375
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000663995742798
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00293016433716
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00727486610413
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:31:07] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00292706489563
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00109195709229
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00443601608276
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00992894172668
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:31:40] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00206089019775
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000764131546021
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00310897827148
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00736784934998
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:32:04] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00242686271667
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000970125198364
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0039119720459
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00997400283813
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:32:54] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00192189216614
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000703096389771
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0028760433197
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00708293914795
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:33:54] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00278306007385
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000799894332886
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00387978553772
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00937294960022
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:34:47] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0021390914917
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000871896743774
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00348711013794
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00840711593628
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:34:55] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00194406509399
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000855922698975
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00313210487366
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00801920890808
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:35:21] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00188088417053
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000905990600586
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0031201839447
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00819301605225
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:35:30] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00329399108887
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.001384973526
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00519394874573
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0122549533844
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:36:59] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00400114059448
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00180196762085
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00640606880188
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0205891132355
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:37:59] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00472283363342
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0011990070343
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00637793540955
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0111930370331
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:41:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00413990020752
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00175905227661
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00669693946838
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0142269134521
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:42:24] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00310206413269
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00144004821777
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0050220489502
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0119028091431
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:42:52] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00410795211792
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00157308578491
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00650787353516
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.014965057373
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:43:29] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00244402885437
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000788927078247
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00356388092041
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00857877731323
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:43:50] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00294017791748
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0016758441925
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00509810447693
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0121698379517
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:43:54] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00237703323364
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00112318992615
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00380516052246
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00930500030518
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:44:22] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00446009635925
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00140905380249
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00650596618652
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0161590576172
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:45:17] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0027129650116
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00136399269104
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00454807281494
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0110859870911
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:45:20] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00222182273865
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00100207328796
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00354790687561
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0103268623352
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 17:59:59] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00243282318115
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000861167907715
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00357699394226
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0442547798157
--------------------------------------------------------------------------------
127.0.0.1 - - [04/May/2016 18:31:06] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00129294395447
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000882148742676
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00257706642151
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.142752885818
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 17:24:50] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00185298919678
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000818014144897
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0030369758606
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00541496276855
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 17:25:36] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00154495239258
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000635147094727
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00250387191772
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.051069021225
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 17:27:08] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00217890739441
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00059700012207
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00302195549011
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00492405891418
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 17:36:08] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00218796730042
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0010449886322
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00360012054443
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00551700592041
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 17:39:35] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00260400772095
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000864028930664
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00382113456726
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0411348342896
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:14:33] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00181007385254
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000784873962402
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00294995307922
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0173177719116
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:14:47] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00204801559448
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00113201141357
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00355219841003
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00924301147461
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:16:25] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00280618667603
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00119185447693
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00445604324341
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00995492935181
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:17:35] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0018470287323
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00067400932312
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00275993347168
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00680994987488
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:18:20] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00179600715637
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000636100769043
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00266981124878
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00681519508362
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:19:32] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0039370059967
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000799894332886
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0049901008606
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00932097434998
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:20:20] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00290489196777
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00122117996216
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00456190109253
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0095009803772
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:21:55] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00276899337769
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00116801261902
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00424194335938
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00968599319458
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:23:57] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0019679069519
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000694990158081
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00290894508362
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00722193717957
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:24:54] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00294184684753
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000672101974487
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00388193130493
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0430560112
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:26:54] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00246095657349
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0010130405426
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00382304191589
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00915908813477
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:27:01] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00193095207214
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000999212265015
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00324487686157
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00796294212341
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:28:00] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00185894966125
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000678062438965
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0028121471405
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0375330448151
--------------------------------------------------------------------------------
127.0.0.1 - - [05/May/2016 18:31:28] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
127.0.0.1 - - [05/May/2016 18:31:36] "GET /api/v0.1/attributes/idc?_key=20c4773dece64394bce23d074d19e609&_secret=65fb0aadbaf2f7bbcc693e66651a971694fb13ec HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0356650352478
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0346050262451
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0706639289856
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.334421873093
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.0102000236511
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :1.34820795059
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 14:25:02] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00253105163574
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00127005577087
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00412607192993
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0394840240479
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00411605834961
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0525629520416
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 14:25:03] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00180196762085
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00066089630127
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00267100334167
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.03528881073
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00451993942261
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0451531410217
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 14:25:38] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00155186653137
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000653028488159
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00251293182373
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0830659866333
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:23:15] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00237798690796
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000860929489136
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0034921169281
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00814914703369
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:23:34] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00210309028625
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00123381614685
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00372314453125
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00819706916809
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:23:36] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00262212753296
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000769853591919
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00373816490173
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00808191299438
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:31:06] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00188302993774
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000674962997437
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0027961730957
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00756907463074
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:32:16] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00438594818115
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000910997390747
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0057909488678
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0372879505157
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:37:36] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00378322601318
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000932931900024
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00506496429443
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.110025167465
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:53:43] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0021870136261
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000694036483765
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00321102142334
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00901317596436
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:54:32] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00182700157166
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000674962997437
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00275182723999
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00668287277222
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:55:56] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00242185592651
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000854015350342
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00357508659363
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00892615318298
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:56:39] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00207710266113
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00077486038208
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00311899185181
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00812101364136
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:57:06] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00185489654541
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000639915466309
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0027289390564
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.007404088974
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:57:26] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.005126953125
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00113391876221
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00704193115234
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0435559749603
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 16:59:14] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00351214408875
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00133395195007
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00542497634888
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0134720802307
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 17:03:53] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00596499443054
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00145888328552
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00791692733765
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0145330429077
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 17:04:34] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'private_ip:10.201.100.40\n10.201.100.43', u'-ctc_ip:10.201.100.40\n10.201.100.43', u'-cmc_ip:10.201.100.40\n10.201.100.43', u'-cnc_ip:10.201.100.40\n10.201.100.43']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=76
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
) AS A) as AA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=321
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=322
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=323
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=76
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
) AS A) as AA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=321
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=322
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=323
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0428020954132
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00106501579285
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0608348846436
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.242650985718
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 18:00:54] "GET /api/v0.1/ci/s?q=private_ip:10.201.100.40%0A10.201.100.43,-ctc_ip:10.201.100.40%0A10.201.100.43,-cmc_ip:10.201.100.40%0A10.201.100.43,-cnc_ip:10.201.100.40%0A10.201.100.43&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'private_ip:10.201.100.40\n10.201.100.43', u'-ctc_ip:10.201.100.40\n10.201.100.43', u'-cmc_ip:10.201.100.40\n10.201.100.43', u'-cnc_ip:10.201.100.40\n10.201.100.43']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
10.201.100.40
10.201.100.43
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=76
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
) AS A) as AA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=321
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=322
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=323
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=76
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
) AS A) as AA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=321
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=322
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) as AAAAAA UNION ALL (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=323
      AND index_texts.value LIKE "10.201.100.40
10.201.100.43"
)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0025098323822
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000977039337158
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.179939985275
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.182359933853
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 18:01:04] "GET /api/v0.1/ci/s?q=private_ip:10.201.100.40%0A10.201.100.43,-ctc_ip:10.201.100.40%0A10.201.100.43,-cmc_ip:10.201.100.40%0A10.201.100.43,-cnc_ip:10.201.100.40%0A10.201.100.43&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00103092193604
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000633001327515
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00195002555847
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0424840450287
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 18:04:27] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00238108634949
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00109004974365
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00394082069397
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0367732048035
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 18:05:44] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00294899940491
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00110387802124
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00455594062805
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0705690383911
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 18:16:51] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00221800804138
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000672101974487
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00313115119934
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00474309921265
--------------------------------------------------------------------------------
127.0.0.1 - - [06/May/2016 18:25:31] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
Engine(mysql+pymysql://root:12qwaszx@127.0.0.1:3306/cmdb?charset=utf8)
 * Running on http://127.0.0.1:5000/
 * Restarting with reloader
127.0.0.1 - - [09/May/2016 10:18:03] "GET /api/v0.1/citypes/test HTTP/1.1" 404 -
127.0.0.1 - - [09/May/2016 10:18:03] "GET /favicon.ico HTTP/1.1" 404 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0598759651184
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000992059707642
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0611588954926
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.803076028824
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00978183746338
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :1.29803514481
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 10:18:26] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00186991691589
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000639915466309
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00271892547607
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0403780937195
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00546097755432
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0523240566254
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 10:19:28] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00334310531616
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000907897949219
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00447702407837
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0965549945831
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00406098365784
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.107922077179
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 10:25:30] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00181102752686
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000884056091309
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00296902656555
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0375919342041
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00465297698975
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.047956943512
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 10:25:52] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00202107429504
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000730991363525
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00300407409668
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0385808944702
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00391387939453
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0482230186462
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 10:26:03] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0121281147003
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00113201141357
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0136950016022
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0762298107147
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:12:46] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00149393081665
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000712871551514
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00247406959534
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=76
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=332
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0412571430206
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00859308242798
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0869870185852
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:12:46] "GET /api/v0.1/ci/s?q=_type:(server;vserver),,&facet=private_ip,idc,i_bu,category,category_branch&page=1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00148487091064
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000642061233521
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00236916542053
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00406694412231
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:12:50] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00177097320557
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000633001327515
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00260806083679
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=76
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=332
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0359408855438
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00387692451477
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.053603887558
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:12:50] "GET /api/v0.1/ci/s?q=_type:(server;vserver),,&facet=private_ip,idc,i_bu,category,category_branch&page=1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00196719169617
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000930786132812
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00319194793701
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00538301467896
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:14:10] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00214695930481
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000745058059692
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00322508811951
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=76
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=332
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.429610967636
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00446391105652
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.452435016632
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:14:11] "GET /api/v0.1/ci/s?q=_type:(server;vserver),,&facet=private_ip,idc,i_bu,category,category_branch&page=1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00226783752441
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000981092453003
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00360298156738
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00578713417053
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:14:22] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00214505195618
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00092077255249
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00335288047791
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=76
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=332
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0536489486694
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00423884391785
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0775620937347
--------------------------------------------------------------------------------
127.0.0.1 - - [09/May/2016 14:14:22] "GET /api/v0.1/ci/s?q=_type:(server;vserver),,&facet=private_ip,idc,i_bu,category,category_branch&page=1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00220489501953
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000792980194092
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00323104858398
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.338953971863
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.0110371112823
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :1.18443512917
--------------------------------------------------------------------------------
127.0.0.1 - - [11/May/2016 11:27:46] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00188589096069
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000808954238892
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00297713279724
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0992829799652
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00404500961304
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.113486051559
--------------------------------------------------------------------------------
127.0.0.1 - - [11/May/2016 11:32:35] "GET /api/v0.1/ci/s?q=_type:(server;vserver) HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0302109718323
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00176095962524
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0479810237885
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.260961055756
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 10:46:17] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.227611064911
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0352039337158
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.263208150864
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.531694173813
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 15:52:53] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.000857830047607
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000586986541748
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00165390968323
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0472660064697
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 16:45:35] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00222492218018
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00065016746521
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00310301780701
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :1.87419700623
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:02:50] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0293130874634
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000784873962402
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0304498672485
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0375719070435
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:17:17] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0025269985199
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00074291229248
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00347685813904
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00498795509338
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:25:15] "GET /api/v0.1/ci/s?q=_type:bu&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.12', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.33', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:40:41] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.13', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.32', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:40:41] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.12', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.35', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:48:24] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.13', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.34', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:48:24] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.12', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.37', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:59:31] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.13', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.36', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:59:31] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.13', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.39', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:59:40] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in auth [/Users/pycook/PycharmProjects/cmdb-api/lib/auth.py:52]:
args is [u'test', u'\u81ea\u52a8\u5316\u8fd0\u7ef4', u'test', u'2', u'vserver', u'test', u'\u751f\u4ea7', u'10.10.10.13', u'\u4fe1\u606f\u6280\u672f\u90e8', u'\u9ec4\u6c38', u'10.10.10.38', u'\u9ec4\u6c38', u'6CUDFW34', u'\u5728\u7ebf', u'FJK12421413FDFWRWRWEWE', u'2456']
--------------------------------------------------------------------------------
127.0.0.1 - - [12/May/2016 17:59:41] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu', u'bu_name:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=98
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (9) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00213813781738
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000752925872803
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00332283973694
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.476519107819
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 11:57:30] "GET /api/v0.1/ci/s?q=_type:bu,bu_name:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0657520294189
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00116896629333
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0672781467438
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0799460411072
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 11:57:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00168704986572
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000638961791992
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0025680065155
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00442481040955
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 11:57:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'238318b8b1b64420b7a11423c14a4d08', 'private_ip': u'1.1.1.0'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'd7f4f608441f4578a6c48aa14bcd1537', 'private_ip': u'1.1.1.1'}
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:184]:
attribute private_ip value 1.1.1.1 must be unique
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 400 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'3f8fe5210aed4ca7ad766adc28898253', 'private_ip': u'1.1.1.2'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'5531332a8f1c4591b1518ed0e153d034', 'private_ip': u'1.1.1.3'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'6f7057e0046e4285ac76eddbfb237fb9', 'private_ip': u'1.1.1.4'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'0fe0234cbebd4f14aba230b8f74324b9', 'private_ip': u'1.1.1.5'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'8d4c48322b93467c8f38efa806d26ebe', 'private_ip': u'1.1.1.6'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'b469a0fba6914e80a2856dbb9d52a628', 'private_ip': u'1.1.1.7'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'4ae6f4a95eb74c729ea6de45bb1a5f4a', 'private_ip': u'1.1.1.8'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:23] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'66c0b262f01d4632bcd894c32b3a79db', 'private_ip': u'1.1.1.9'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'f250855a503842d9ad614187ddad2fc7', 'private_ip': u'1.1.1.10'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'dc50ef2ed2434d71b9420615b4dcc2eb', 'private_ip': u'1.1.1.11'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'e0831cca7e3f4ff8bce99f3bfc35f8e2', 'private_ip': u'1.1.1.12'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'1f36bd8f63dd4a5285fbaebdd553d9f7', 'private_ip': u'1.1.1.13'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'29e6e7623a65489fa5b54615e6a223af', 'private_ip': u'1.1.1.14'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'dffffa4f06bc4108a4a117edf20d826a', 'private_ip': u'1.1.1.15'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'67eb329bdfd546e797caa063af33839e', 'private_ip': u'1.1.1.16'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'd91b70417df44b1aa76af9fb3ef756d7', 'private_ip': u'1.1.1.17'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'34a05521585a450e965ae6ac8cc904e7', 'private_ip': u'1.1.1.18'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'b0ee30600aed4ff6a0c770334e0d0c79', 'private_ip': u'1.1.1.19'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'ab71d306d81f40c1b7c7ce2a38fd58d8', 'private_ip': u'1.1.1.20'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'1d2c5510e13d4d6c843e360365bfb8f4', 'private_ip': u'1.1.1.21'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'813114f89be448f2a6347fdf32577ff2', 'private_ip': u'1.1.1.22'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'b07ef0515f0245679b838bf3a5337ab1', 'private_ip': u'1.1.1.23'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'643ebb2a9d954311be013fa22083be56', 'private_ip': u'1.1.1.24'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'c9e025439067492581757109b336f57c', 'private_ip': u'1.1.1.25'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:24] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'6841d9fe60e6429b85aa9f23920c344b', 'private_ip': u'1.1.1.26'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:25] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'3d5617f268b24bcdbc58a0203e99408d', 'private_ip': u'1.1.1.27'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:25] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'9099ba6560c84f868bf673b10251f5b0', 'private_ip': u'1.1.1.28'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:25] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'082c8a6d749646d1b7cc4c8b78b2c2f9', 'private_ip': u'1.1.1.29'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:25] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'5331acf9b29f4d94b6be1825062b1e86', 'private_ip': u'1.1.1.30'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'b4af503947444c8c89cd94cf69419ce7', 'private_ip': u'1.1.1.31'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'109ce79bcf624b5c8bb3ec6551a92f3b', 'private_ip': u'1.1.1.32'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'9e1dab86eb8a4ad0b42ff3c70431831a', 'private_ip': u'1.1.1.33'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'd331ddfa708a442e92520d05f2757370', 'private_ip': u'1.1.1.34'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'c4c2d3abdc594c4bbe267d282dc75366', 'private_ip': u'1.1.1.35'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'43b4ca49a08a47efab811885da5c1628', 'private_ip': u'1.1.1.36'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'6d86c081c0434468841f0f75b1295f3e', 'private_ip': u'1.1.1.37'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'd1cf468c9744408a9b52e0410e8963ed', 'private_ip': u'1.1.1.38'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'd381d18c516747c3a977a9f529e7f327', 'private_ip': u'1.1.1.39'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'c177b579c90c457fade719f97656de92', 'private_ip': u'1.1.1.40'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'e713a9797e34450aae10472e5880a42c', 'private_ip': u'1.1.1.41'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'ca802410aaa548cdad114ac8cf89a234', 'private_ip': u'1.1.1.42'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:26] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'81ddce082044486181384811db57b192', 'private_ip': u'1.1.1.43'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'cb1904b483b84cffb71d1115cb568d7d', 'private_ip': u'1.1.1.44'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'abe2240b36e94362b98e2418c1ef6b09', 'private_ip': u'1.1.1.45'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'416d092dee8f4c149ce5f2029cd671a6', 'private_ip': u'1.1.1.46'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'd6334c901eeb41829781bf5da10e4dee', 'private_ip': u'1.1.1.47'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'cdd43f907b384f159ae1c172d6c4376b', 'private_ip': u'1.1.1.48'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:128]:
{'status': u'\u5f85\u7528', 'i_bu': u'\u4fe1\u606f\u6280\u672f\u90e8', 'uuid': u'0b4a284df6284e0684a408bf46758b9b', 'private_ip': u'1.1.1.49'}
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:27] "POST /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00224494934082
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000680923461914
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00315690040588
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00497984886169
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:29] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00276017189026
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000838994979858
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00385999679565
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0061469078064
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:03:30] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00148701667786
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00086498260498
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00268697738647
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0044629573822
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:38] "GET /api/v0.1/ci/s?q=_type:bu HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:38] "GET /api/v0.1/attributes/citype/server HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:38] "GET /api/v0.1/attributes/citype/vserver HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (7,8)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00205087661743
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000679016113281
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0029501914978
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11235,11236,11237,11238,11239,11241,11242,11243,11244,11245)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.127548933029
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.012983083725
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.1467897892
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:38] "GET /api/v0.1/ci/s?q=_type:(server;vserver)&page=1&count=25 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00172686576843
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000852108001709
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00288796424866
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00469398498535
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:41] "GET /api/v0.1/ci/s?q=_type:bu HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)', u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00354599952698
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000818014144897
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00464296340942
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=342
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0613300800323
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00638389587402
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0849468708038
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:41] "GET /api/v0.1/ci/s?q=_type:(server;vserver),i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category,category_branch,category_zone HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:42] "GET /api/v0.1/attributes/citype/server HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:42] "GET /api/v0.1/attributes/citype/vserver HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)', u'i_bu:*\u4fe1\u606f\u6280\u672f\u90e8*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*信息技术部*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "%信息技术部%"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "%信息技术部%"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0022599697113
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000699043273926
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00317907333374
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0396199226379
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00492191314697
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0509600639343
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:42] "GET /api/v0.1/ci/s?q=_type:(server;vserver),i_bu:*%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8*&page=1&count=25 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00164914131165
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000954866409302
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00288200378418
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.00433206558228
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:46] "GET /api/v0.1/ci/s?q=_type:bu HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)', u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00326800346375
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0013370513916
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00494790077209
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=342
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0403969287872
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00525093078613
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0617871284485
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:46] "GET /api/v0.1/ci/s?q=_type:(server;vserver),i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category,category_branch,category_zone HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:47] "GET /api/v0.1/attributes/citype/server HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:47] "GET /api/v0.1/attributes/citype/vserver HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)', u'i_bu:*\u4fe1\u606f\u6280\u672f\u90e8*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*信息技术部*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "%信息技术部%"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "%信息技术部%"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00278210639954
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000895023345947
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00399589538574
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0156910419464
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00427293777466
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0278310775757
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:47] "GET /api/v0.1/ci/s?q=_type:(server;vserver),i_bu:*%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8*,status:%E5%BE%85%E7%94%A8&page=1&count=25 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:bu']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
bu
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:

    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (
    SELECT cis.ci_id
    FROM cis
    WHERE cis.type_id in (9)
) AS B ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00163507461548
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000936985015869
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00283718109131
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0042290687561
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:52] "GET /api/v0.1/ci/s?q=_type:bu HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)', u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00322985649109
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000859975814819
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00433492660522
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=337
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=338
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=342
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (1296,2446,2447,2448,2449,2450,2451,7769,7916,7930,7986,8107,8129,11210,11211,11237,11239,11241,11242,11243,11244,11245,11246,11247,11248)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0482909679413
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00556492805481
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0705921649933
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:53] "GET /api/v0.1/ci/s?q=_type:(server;vserver),i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8&facet=category,category_branch,category_zone HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:53] "GET /api/v0.1/attributes/citype/server HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:04:53] "GET /api/v0.1/attributes/citype/vserver HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'_type:(server;vserver)', u'i_bu:*\u4fe1\u606f\u6280\u672f\u90e8*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
(server;vserver)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:263]:

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*信息技术部*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "%信息技术部%"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "%信息技术部%"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id WHERE cis.type_id in (7,8) ORDER BY B.ci_id ASC LIMIT 0, 50;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00473594665527
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000981092453003
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00601601600647
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0301220417023
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00951981544495
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.05104804039
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:04:53] "GET /api/v0.1/ci/s?q=_type:(server;vserver),i_bu:*%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8*,status:%E5%BE%85%E7%94%A8&page=1&count=50 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 50;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00338816642761
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000671863555908
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00431108474731
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.208733081818
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00945806503296
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.254358053207
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:05:55] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8&count=50 HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:10] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:11] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:12] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:12] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:12] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
127.0.0.1 - - [18/May/2016 12:07:13] "PUT /api/v0.1/ci HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00266480445862
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000663995742798
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00354790687561
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT texts.value,
           count(texts.ci_id)
    FROM texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=texts.ci_id
    WHERE texts.attr_id=81
    GROUP BY texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=84
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=85
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=134
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0168650150299
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00460696220398
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0594260692596
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:07:17] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00300288200378
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000783920288086
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00402903556824
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0193889141083
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00432205200195
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0311801433563
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:07:17] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00279402732849
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00103402137756
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00405311584473
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT texts.value,
           count(texts.ci_id)
    FROM texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=texts.ci_id
    WHERE texts.attr_id=81
    GROUP BY texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=84
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=85
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=134
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0165219306946
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00419497489929
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0460839271545
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:07:19] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.002690076828
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000685930252075
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00360584259033
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0194938182831
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00451993942261
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0312259197235
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:07:19] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00401782989502
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00122618675232
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00571608543396
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0562770366669
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00567412376404
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0721549987793
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:07:25] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00393295288086
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000884056091309
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00515413284302
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0229218006134
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00479197502136
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.037230014801
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:07:35] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00577712059021
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00100088119507
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00712203979492
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT texts.value,
           count(texts.ci_id)
    FROM texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=texts.ci_id
    WHERE texts.attr_id=81
    GROUP BY texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=84
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=85
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=134
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0214371681213
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00474882125854
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0584471225739
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:08:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00485491752625
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00115609169006
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00634002685547
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0418310165405
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00527000427246
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0578470230103
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:08:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00277400016785
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000687122344971
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00369191169739
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0173580646515
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00422215461731
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0284731388092
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:08:41] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00268816947937
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000670909881592
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00359201431274
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0173001289368
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00586199760437
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0301668643951
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:08:55] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0026478767395
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000631093978882
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00351214408875
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.016566991806
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00436902046204
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0275938510895
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:09:02] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00368499755859
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000967979431152
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00488615036011
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0186278820038
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00511789321899
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0318710803986
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:09:03] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00268793106079
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000670909881592
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00357484817505
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0175449848175
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00444889068604
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0288112163544
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:09:04] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.0026638507843
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000672101974487
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00357604026794
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0188949108124
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00421285629272
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0299999713898
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:09:06] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00363802909851
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000690937042236
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0045690536499
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0164041519165
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00412201881409
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0895571708679
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:14:28] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00398683547974
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.0012891292572
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00565814971924
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT texts.value,
           count(texts.ci_id)
    FROM texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=texts.ci_id
    WHERE texts.attr_id=81
    GROUP BY texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=84
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=85
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=134
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0190281867981
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00619602203369
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.366659879684
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:15:45] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00439190864563
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00114893913269
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00593590736389
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0367379188538
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00744009017944
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0544347763062
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:15:46] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00426197052002
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000977993011475
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00555920600891
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0202751159668
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00476598739624
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0344297885895
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:15:50] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00276517868042
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000663995742798
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00367999076843
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0184230804443
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00432586669922
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0299971103668
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:15:53] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00266408920288
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000677824020386
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00359392166138
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT texts.value,
           count(texts.ci_id)
    FROM texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=texts.ci_id
    WHERE texts.attr_id=81
    GROUP BY texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=84
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=85
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=134
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0173199176788
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00425982475281
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0407638549805
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:16:14] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00425410270691
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00123405456543
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00600504875183
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.029629945755
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00638294219971
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0468158721924
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:16:14] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00269889831543
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000703096389771
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00362205505371
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.200909137726
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00399088859558
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.211716890335
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:16:18] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00272393226624
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000693082809448
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00364112854004
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0183601379395
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00473380088806
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0301830768585
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:16:32] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00452303886414
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00118803977966
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00610113143921
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0212669372559
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00476884841919
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0366308689117
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 12:16:35] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'status:\u5f85\u7528', u'os_version:Windows*']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.021723985672
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000670909881592
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.0226528644562
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=113
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT texts.value,
           count(texts.ci_id)
    FROM texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=texts.ci_id
    WHERE texts.attr_id=81
    GROUP BY texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=84
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_integers.value,
           count(index_integers.ci_id)
    FROM index_integers
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_integers.ci_id
    WHERE index_integers.attr_id=85
    GROUP BY index_integers.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:325]:

    SELECT index_texts.value,
           count(index_texts.ci_id)
    FROM index_texts
    INNER JOIN (SELECT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "Windows%"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ) AS F ON F.ci_id=index_texts.ci_id
    WHERE index_texts.attr_id=134
    GROUP BY index_texts.value

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0218780040741
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00820517539978
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.221758127213
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 13:16:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,status:%E5%BE%85%E7%94%A8,os_version:Windows*&facet=idc,os_version,cpu_count,logic_cpu_count,ram_size&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00270700454712
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000648021697998
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00359416007996
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0344240665436
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00449895858765
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.04585313797
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 13:16:33] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00276303291321
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000801801681519
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00382900238037
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.223458051682
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.0042028427124
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.234619855881
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 13:16:41] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 0, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00281310081482
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.000668048858643
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00372004508972
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11239,11241,11242,11243,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,11258,11259,11260,11261,11262,11263,11264)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0693650245667
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00427412986755
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0808877944946
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 13:16:45] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=1&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:252]:
[u'i_bu:\u4fe1\u606f\u6280\u672f\u90e8', u'os_version:*Windows*', u'status:\u5f85\u7528']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
信息技术部
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
*Windows*
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:259]:
待用
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:310]:
SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:227]:
SELECT SQL_CALC_FOUND_ROWS DISTINCT B.ci_id
                FROM (SELECT * FROM (SELECT * FROM (SELECT * FROM (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=332
      AND index_texts.value LIKE "信息技术部"
) AS A) as AA
                INNER JOIN (
    SELECT texts.ci_id
    FROM texts
    WHERE texts.attr_id=81
      AND texts.value LIKE "%Windows%"
) as AAA USING(ci_id)) as AAAA
                INNER JOIN (
    SELECT index_texts.ci_id
    FROM index_texts
    WHERE index_texts.attr_id=115
      AND index_texts.value LIKE "待用"
) as AAAAA USING(ci_id)) AS B INNER JOIN cis on cis.ci_id=B.ci_id ORDER BY B.ci_id ASC LIMIT 25, 25;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:231]:
query ci ids time is: 0.00271892547607
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:234]:
statistics ci ids time is: 0.00068211555481
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in search [/Users/pycook/PycharmProjects/cmdb-api/lib/search.py:313]:
query ci ids is: 0.00364398956299
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
WARNING in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:638]:
cache not hit...............
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:651]:
['index_floats', 'index_datetime', 'index_texts', 'index_integers', 'integers', 'texts', 'floats', 'datetime']
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:656]:

    SELECT A.ci_id,
           A.type_id,
           A.attr_id,
           A.attr_name,
           A.attr_alias,
           A.value,
           A.value_type,
           A.is_multivalue
    FROM
      (
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_floats.ci_id,
                  index_floats.attr_id,
                  index_floats.value
           FROM index_floats
           INNER JOIN cis ON index_floats.ci_id=cis.ci_id
           AND index_floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_datetime.ci_id,
                  index_datetime.attr_id,
                  index_datetime.value
           FROM index_datetime
           INNER JOIN cis ON index_datetime.ci_id=cis.ci_id
           AND index_datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_datetime.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_texts.ci_id,
                  index_texts.attr_id,
                  index_texts.value
           FROM index_texts
           INNER JOIN cis ON index_texts.ci_id=cis.ci_id
           AND index_texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  index_integers.ci_id,
                  index_integers.attr_id,
                  index_integers.value
           FROM index_integers
           INNER JOIN cis ON index_integers.ci_id=cis.ci_id
           AND index_integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = index_integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  integers.ci_id,
                  integers.attr_id,
                  integers.value
           FROM integers
           INNER JOIN cis ON integers.ci_id=cis.ci_id
           AND integers.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = integers.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  texts.ci_id,
                  texts.attr_id,
                  texts.value
           FROM texts
           INNER JOIN cis ON texts.ci_id=cis.ci_id
           AND texts.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = texts.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  floats.ci_id,
                  floats.attr_id,
                  floats.value
           FROM floats
           INNER JOIN cis ON floats.ci_id=cis.ci_id
           AND floats.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = floats.attr_id
 UNION 
    SELECT attr.attr_name,
                  attr.attr_alias,
                  attr.value_type,
                  attr.is_multivalue,
                  cis.type_id,
                  datetime.ci_id,
                  datetime.attr_id,
                  datetime.value
           FROM datetime
           INNER JOIN cis ON datetime.ci_id=cis.ci_id
           AND datetime.`ci_id` IN (11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11281,11282,11283,11284,11285,11286,11287,11288)
           INNER JOIN ci_attributes as attr ON attr.attr_id = datetime.attr_id
) AS A 
       ORDER BY A.ci_id;

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
INFO in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:660]:
get cis time is: 0.0179951190948
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/lib/ci.py:703]:
result parser time is: 0.00405502319336
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
DEBUG in ci [/Users/pycook/PycharmProjects/cmdb-api/core/ci.py:107]:
search time is :0.0288989543915
--------------------------------------------------------------------------------
127.0.0.1 - - [18/May/2016 13:16:46] "GET /api/v0.1/ci/s?q=i_bu:%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E9%83%A8,os_version:*Windows*,status:%E5%BE%85%E7%94%A8&page=2&_key=20c4773dece64394bce23d074d19e609&_secret=ff6a222c01a3b89c8bbcd6c17abfe77d719437e1 HTTP/1.1" 200 -
